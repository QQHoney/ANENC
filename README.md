# 安能物流农场 - 网页版

这是一个基于微信小程序转换的网页版游戏，可以在浏览器中直接游玩。

## 项目特色

- **物流主题**：将传统农场游戏的"种菜-偷菜"玩法转换为"处理货物-截胡货物"
- **分拨系统**：玩家可选择加入不同分拨（如廊坊、广州、武汉等）
- **社交互动**：分拨内聊天、世界广播、好友系统
- **道具系统**：防护盾、加速卡、广播喇叭等丰富道具

## 快速开始

### 本地运行

直接在浏览器中打开 `index.html` 即可开始游戏。

### 部署到 Serv00

#### 方法1：通过 FTP/SFTP 上传

1. 连接到你的 Serv00 服务器
2. 进入你的 `public_html` 目录
3. 上传整个 `web` 文件夹
4. 在浏览器访问：`http://你的域名/web/`

#### 方法2：通过 SSH 命令部署

```bash
# 登录 Serv00
ssh username@serv00.com

# 进入 web 目录
cd ~/public_html

# 创建项目目录
mkdir annengnongchang
cd annengnongchang

# 上传文件（通过 scp 或其他方式）
# 或者使用 git clone 如果你已经上传到 git

# 设置权限
chmod -R 755 .

# 访问地址
# http://你的域名/annengnongchang/
```

#### 方法3：使用 Serv00 的文件管理器

1. 登录 Serv00 控制面板
2. 打开文件管理器
3. 进入 `public_html` 目录
4. 创建新文件夹 `annengnongchang`
5. 上传所有文件到该文件夹

## 游戏玩法

### 核心机制

1. **放置货物**：点击空货位，选择货物类型
2. **等待处理**：货物会自动处理（类似农作物生长）
3. **收取货物**：处理完成后收取，获得金币和经验
4. **截胡好友**：可以拜访好友站场，截胡已成熟的货物

### 货物类型

| 类型 | 处理时间 | 基础收益 | 经验值 |
|------|---------|---------|-------|
| 小件包裹 | 1分钟 | 10金币 | 5经验 |
| 中型货物 | 3分钟 | 30金币 | 15经验 |
| 大件物品 | 5分钟 | 60金币 | 30经验 |
| 易碎品 | 4分钟 | 80金币 | 40经验 |
| 特快件 | 30秒 | 50金币 | 25经验 |
| 冷链货物 | 2分钟 | 100金币 | 50经验 |
| 贵重物品 | 10分钟 | 200金币 | 100经验 |

### 道具系统

- **防护盾**：保护货物不被截胡
- **加速卡**：货物处理时间减半
- **广播喇叭**：世界聊天使用
- **截胡卡**：提高截胡成功率50%
- **高效肥料**：货物价值提升20%
- **货位扩展**：永久增加1个货位
- **VIP周卡**：7天收益提升50%

### 升级规则

- 升级所需经验 = 当前等级 × 100
- 升级奖励 = 新等级 × 50 金币
- 每5级增加1个货位（最多12个）

### 截胡规则

- 只能截胡已成熟的货物
- 截胡获得货物价值的30%
- 受防护盾保护的货物无法截胡

## 分拨列表

- 廊坊分拨（华北）
- 广州分拨（华南）
- 武汉分拨（华中）
- 上海分拨（华东）
- 成都分拨（西南）
- 西安分拨（西北）
- 沈阳分拨（东北）
- 南京分拨（华东）

## 技术架构

### 前端技术

- **HTML5**：页面结构
- **CSS3**：样式和动画
- **JavaScript (ES6+)**：游戏逻辑
- **LocalStorage**：本地数据存储

### 文件结构

```
web/
├── index.html              # 主页面
├── css/
│   ├── reset.css          # CSS重置
│   ├── common.css         # 通用样式
│   ├── pages.css          # 页面样式
│   └── animations.css     # 动画效果
├── js/
│   ├── config.js          # 游戏配置
│   ├── storage.js         # 本地存储封装
│   ├── api.js             # API接口（模拟后端）
│   ├── utils.js           # 工具函数
│   └── app.js             # 主应用逻辑
└── assets/
    ├── default-avatar.svg # 默认头像
    ├── icons/             # 图标
    ├── cargos/            # 货物图标
    └── items/             # 道具图标
```

### 数据存储

游戏使用浏览器的 `localStorage` 进行数据持久化，包括：
- 用户信息
- 站场货物
- 好友列表
- 聊天记录
- 排行榜数据

**注意**：数据仅保存在当前浏览器中，更换浏览器或清除缓存会丢失数据。

## 功能模块

### 1. 用户系统
- 微信登录（模拟）
- 选择分拨
- 新手礼包
- 等级升级

### 2. 站场玩法
- 放置货物
- 自动处理
- 收取货物
- 使用道具

### 3. 社交系统
- 好友列表
- 分拨成员
- 拜访好友
- 截胡货物

### 4. 聊天系统
- 分拨频道（免费）
- 世界广播（消耗喇叭）
- 消息记录

### 5. 商城系统
- 道具购买
- 货币系统（金币、钻石）
- 数量选择

### 6. 排行榜
- 财富榜
- 等级榜
- 截胡榜
- 全服/分拨范围

## 自定义配置

修改 `js/config.js` 可以调整游戏参数：

```javascript
// 货物类型
cargoTypes: [
    { id: 'small', name: '小件包裹', growTime: 60, baseValue: 10, exp: 5 },
    // ... 可以添加更多类型
]

// 商品价格
shopItems: [
    { id: 'protection_shield', name: '防护盾', price: 50, currency: 'coins' },
    // ... 可以调整价格
]

// 升级参数
levelUpExpMultiplier: 100,  // 升级所需经验倍数
levelUpCoinMultiplier: 50,  // 升级奖励倍数
```

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

## 移动端适配

- 支持移动浏览器
- 响应式布局
- 触摸操作优化

## 已知限制

1. **数据隔离**：每个浏览器的数据相互独立
2. **无实时通信**：聊天和状态更新需要手动刷新
3. **无服务器验证**：所有数据存储在本地，可能存在作弊可能

## 后续优化方向

1. **实时通信**：使用 WebSocket 实现实时聊天
2. **数据同步**：添加云存储支持
3. **成就系统**：添加游戏成就
4. **每日任务**：增加每日任务系统
5. **活动系统**：节假日活动
6. **公会系统**：分拨内公会对抗

## 许可证

MIT License

## 技术支持

如有问题，请检查：
1. 浏览器是否支持 localStorage
2. JavaScript 是否启用
3. 控制台是否有错误信息

## 更新日志

### v1.0.0 (2026-01-03)
- 初始版本发布
- 完整的网页版功能
- 适配 serv00 部署
